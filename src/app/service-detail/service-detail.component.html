<br/>
<div class="container">
  <!-- upitnik izmedju Service i propertija je operator koji proverava
       da li je properti definisan. NgForm krene da se izvrsava pre nego sto se podaci
       o servisu ucitaju sa servera pa angular baca greske da su Service i njegovi prop
       nedefinisani. operator ? to sprecava
       ok
  -->
  <div class="jumbotron">
    <h1 class="display-4">{{Service?.Name}}</h1>
    <p class="lead">{{Service?.Description}}</p>
    <hr class="my-4">
    <p>Email: {{Service?.Email}}</p>
  </div>
  <div class="modal-body row">
    <div class="col-md-4" >
      <h4 style="text-align: center">Vehicles</h4>
      <div #vehicleList class="list-group" >
        <a  (click)="onVehicleListItemClick(i, vehicleList)"  *ngFor="let vehicle of Service?.Vehicles; index as i" class="list-group-item list-group-item-action">
          <div class="d-flex w-100 justify-content-between">
            <img style="max-height: 80px; max-width: 80px" [src]=vehicle?.ImagePath>
            <h6>{{vehicle?.Type}} {{vehicle?.Manifacturer}} {{vehicle?.Model}} {{vehicle?.ProductionYear}}</h6>
            <small style="color:green">{{vehicle?.Price}}$</small>
          </div>
          <p class="mb-1">{{vehicle?.Description}}</p>
        </a>
      </div>
    </div>
    <div class="col-md-offset-2 col-md-4" >
      <h4 style="text-align: center">Take vehicle at</h4>
      <div #branchOficeListFrom class="list-group" >
        <a (click)="onBranchOfficeFromListItemClick(ii, branchOficeListFrom)" *ngFor="let office of Service?.Offices; index as ii" class="list-group-item list-group-item-action flex-column align-items-start-active">
          <div class="d-flex w-100 justify-content-between">
            <img style="max-height: 80px; max-width: 80px" src={{office?.ImagePath}}>
            <h6>Adress: {{office?.Address}}</h6>
          </div>
        </a>
      </div>
    </div>
    <div class="col-md-offset-2 col-md-4" >
      <h4 style="text-align: center">Return vehicle at</h4>
      <div #branchOficeListTo class="list-group" >
        <a (click)="onBranchOfficeToListItemClick(ii, branchOficeListTo)" *ngFor="let office of Service?.Offices; index as ii" class="list-group-item list-group-item-action flex-column align-items-start-active">
          <div class="d-flex w-100 justify-content-between">
            <img style="max-height: 80px; max-width: 80px" src={{office?.ImagePath}}>
            <h6>Adress: {{office?.Address}}</h6>
          </div>
        </a>
      </div>
    </div>
  </div>

  <!--Nemam pojma o cemu se ovde radi ali radi!!!!-->
  <div [hidden]="isUserLoggedIn()">
    <hr/>
    <h2>Make a Reservation</h2>
    <small>Click on date to select the starting date, then on another to select the date of returning vehicle</small>
    <br/>
    <ngb-datepicker #dp (select)="onDateSelection($event)" [displayMonths]="2" [dayTemplate]="t">
    </ngb-datepicker>

    <ng-template #t let-date="date" let-focused="focused">
  <span class="custom-day"
        [class.focused]="focused"
        [class.range]="isFrom(date) || isTo(date) || isInside(date) || isHovered(date)"
        [class.faded]="isHovered(date) || isInside(date)"
        (mouseenter)="hoveredDate = date"
        (mouseleave)="hoveredDate = null">
    {{ date.day }}
  </span>
    </ng-template>

    <hr>
    <button type="submit" class="btn-primary" (click)="makeReservation()">Submit</button>
  </div>
</div>

